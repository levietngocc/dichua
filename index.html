<!DOCTYPE html>
<html lang="vi" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Parenting AI Platform</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&family=Inter:wght@400;500;600;700;800&display=swap"
        rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a;
            color: #e2e8f0;
        }

        code {
            font-family: 'JetBrains Mono', monospace;
            color: #a5b4fc;
        }

        .sidebar-link:hover {
            background-color: #1e293b;
            color: #38bdf8;
            border-right: 3px solid #38bdf8;
        }

        pre {
            background: #1e293b;
            padding: 1rem;
            border-radius: 0.5rem;
            border: 1px solid #334155;
            overflow-x: auto;
        }

        .highlight {
            color: #f472b6;
            font-weight: bold;
        }

        /* Pink for emphasis */
        .comment {
            color: #94a3b8;
            font-style: italic;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #0f172a;
        }

        ::-webkit-scrollbar-thumb {
            background: #334155;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #475569;
        }
    </style>
</head>

<body class="flex h-screen overflow-hidden bg-slate-950 text-slate-200 relative">
<button id="mobile-menu-btn" class="fixed top-4 left-4 z-40 p-2 bg-slate-800/80 backdrop-blur-md rounded-lg text-white md:hidden hover:bg-slate-700 border border-slate-700 transition-all shadow-lg">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
    </button>

    <div id="mobile-overlay" class="fixed inset-0 bg-black/80 z-40 hidden transition-opacity opacity-0 backdrop-blur-sm md:hidden"></div>

    <aside id="sidebar" class="fixed inset-y-0 left-0 z-50 w-72 bg-slate-900 border-r border-slate-800 flex flex-col transform -translate-x-full transition-transform duration-300 ease-in-out md:translate-x-0 md:static md:inset-auto shadow-2xl">
        
        <div class="p-6 border-b border-slate-800 flex justify-between items-center h-16">
            <h1 class="text-xl font-black text-white tracking-tight flex items-center gap-2">
                <span class="text-2xl">üî•</span> SilverLink <span class="text-blue-500">AI</span>
            </h1>
            <button id="close-menu-btn" class="md:hidden p-1 bg-slate-800 rounded hover:bg-slate-700 text-slate-400 hover:text-white border border-slate-700">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>

        <nav class="flex-1 overflow-y-auto py-4 scrollbar-hide">
            <div class="px-6 py-2 text-[10px] font-bold text-blue-500 uppercase tracking-widest mt-2 border-t border-slate-800 pt-4">
                1. SYSTEM ARCHITECTURE
            </div>
            <a href="#overview" class="block px-6 py-2 text-sm text-slate-300 sidebar-link transition-colors hover:text-white hover:bg-slate-800 rounded-r-full mr-4">
                1.1 Architecture Modules
            </a>
            <a href="#interface-strategy" class="block px-6 py-2 text-sm text-slate-300 sidebar-link transition-colors hover:text-white hover:bg-slate-800 rounded-r-full mr-4">
                1.2 UI Strategy (3-in-1)
            </a>
            <div class="pl-10 pr-4 space-y-1 mt-1 border-l border-slate-800 ml-6 mb-2">
                <a href="#interface-strategy" class="block text-xs text-slate-500 hover:text-blue-400 py-1 transition-colors">‚îî‚îÄ üë¥ Elderly Kiosk</a>
                <a href="#interface-strategy" class="block text-xs text-slate-500 hover:text-green-400 py-1 transition-colors">‚îî‚îÄ üßë‚Äçüíº Manager Dash</a>
                <a href="#interface-strategy" class="block text-xs text-slate-500 hover:text-red-400 py-1 transition-colors">‚îî‚îÄ üõ†Ô∏è Admin System</a>
            </div>
            <a href="#er-diagram" class="block px-6 py-2 text-sm text-slate-300 sidebar-link transition-colors hover:text-white hover:bg-slate-800 rounded-r-full mr-4">
                2.0 Entity Relations (ERD)
            </a>

            <div class="px-6 py-2 text-[10px] font-bold text-yellow-500 uppercase tracking-widest mt-4 border-t border-slate-800 pt-4">
                3. DATABASE SCHEMAS
            </div>
            <a href="#database-detailed" class="block px-6 py-2 text-sm font-bold text-white bg-slate-800/50 border-l-2 border-yellow-500 rounded-r-full mr-4 mb-2">
                Overview
            </a>
            <div class="space-y-1 px-6">
                <a href="#database-detailed" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-400 hover:text-white hover:bg-slate-800 rounded transition-colors">
                    <span class="w-1.5 h-1.5 rounded-full bg-blue-500"></span> Identity
                </a>
                <a href="#database-detailed" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-400 hover:text-white hover:bg-slate-800 rounded transition-colors">
                    <span class="w-1.5 h-1.5 rounded-full bg-green-500"></span> Medical Core
                </a>
                <a href="#database-detailed" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-400 hover:text-white hover:bg-slate-800 rounded transition-colors">
                    <span class="w-1.5 h-1.5 rounded-full bg-purple-500"></span> AI Legacy
                </a>
                <a href="#database-detailed" class="flex items-center gap-2 px-2 py-1.5 text-sm text-slate-400 hover:text-white hover:bg-slate-800 rounded transition-colors">
                    <span class="w-1.5 h-1.5 rounded-full bg-red-500"></span> System/SOS
                </a>
            </div>

            <div class="px-6 py-2 text-[10px] font-bold text-green-500 uppercase tracking-widest mt-4 border-t border-slate-800 pt-4">
                IMPLEMENTATION
            </div>
            <a href="#folder-structure" class="block px-6 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-800 rounded-r-full mr-4 transition-colors">
                4.0 Folder Structure
            </a>
            <div class="mt-1">
                <a href="#api-list" class="block px-6 py-2 text-sm font-bold text-white hover:bg-slate-800 rounded-r-full mr-4 transition-colors">
                    5.0 API Specifications
                </a>
            </div>
            <div class="mt-1 pb-20">
                <a href="#tech-stack" class="block px-6 py-2 text-sm font-bold text-white hover:bg-slate-800 rounded-r-full mr-4 transition-colors">
                    6.0 Technology Stack
                </a>
            </div>
        </nav>
    </aside>

    <main class="flex-1 overflow-y-auto scroll-smooth bg-slate-950 p-8 lg:p-12">

        <section id="overview" class="max-w-5xl mx-auto mb-20 space-y-16">

            <div>
                <h2 class="text-3xl font-black text-white mb-8 flex items-center gap-3">
                    <span class="bg-blue-600 w-8 h-8 rounded-lg flex items-center justify-center text-sm">1.1</span>
                    Ki·∫øn tr√∫c H·ªá th·ªëng (System Architecture)
                </h2>

                <div class="space-y-8">

                    <div class="bg-slate-900/50 p-6 rounded-2xl border border-blue-900/50">
                        <div class="flex items-center gap-3 mb-4 border-b border-slate-800 pb-4">
                            <span class="text-3xl">üíä</span>
                            <div>
                                <h3 class="text-blue-400 font-bold text-xl">Module 1: Medical Core (L√µi Y T·∫ø)</h3>
                                <p class="text-xs text-slate-500 uppercase font-bold tracking-widest">∆Øu ti√™n cao nh·∫•t
                                    (Critical)</p>
                            </div>
                        </div>

                        <div class="grid md:grid-cols-2 gap-8">
                            <div>
                                <h4 class="text-white font-bold mb-2 flex items-center gap-2">
                                    <span class="text-green-400">‚úì</span> H·ªá th·ªëng l√†m gi√∫p g√¨?
                                </h4>
                                <ul class="space-y-3 text-slate-400 text-sm">
                                    <li><strong>T·ª± ƒë·ªông t√≠nh l·ªãch:</strong> Ng∆∞·ªùi d√πng nh·∫≠p "Ng√†y 2 vi√™n, s√°ng chi·ªÅu".
                                        H·ªá th·ªëng t·ª± t√≠nh ra gi·ªù c·ª• th·ªÉ (08:00, 18:00) cho c·∫£ th√°ng.</li>
                                    <li><strong>X·ª≠ l√Ω l·ªãch ph·ª©c t·∫°p:</strong> H·ªó tr·ª£ c√°c ƒë∆°n thu·ªëc kh√≥ nh·ªõ nh∆∞ "U·ªëng
                                        c√°ch ng√†y", "Ch·ªâ u·ªëng th·ª© 2-4-6", "U·ªëng tr∆∞·ªõc ƒÉn 30p".</li>
                                    <li><strong>Qu·∫£n l√Ω kho:</strong> T·ª± tr·ª´ s·ªë l∆∞·ª£ng vi√™n thu·ªëc m·ªói khi c·ª• b·∫•m "ƒê√£
                                        u·ªëng". C·∫£nh b√°o khi thu·ªëc s·∫Øp h·∫øt.</li>
                                </ul>
                            </div>

                            <div class="bg-slate-950 p-4 rounded-xl border border-slate-800">
                                <h4 class="text-blue-200 font-bold mb-2 text-sm uppercase">üõ†Ô∏è Dev c·∫ßn l√†m g√¨?</h4>
                                <ul class="space-y-2 text-slate-400 text-xs font-mono">
                                    <li>- Thi·∫øt k·∫ø b·∫£ng `Schedules` c√≥ tr∆∞·ªùng `recurrence` (l·∫∑p l·∫°i) linh ho·∫°t.</li>
                                    <li>- Vi·∫øt Cron Job ch·∫°y m·ªói ph√∫t ƒë·ªÉ qu√©t b·∫£ng `Schedules` -> B·∫Øn th√¥ng b√°o.</li>
                                    <li>- Vi·∫øt Logic tr·ª´ kho: `inventory = inventory - dosage`.</li>
                                    <li>- Vi·∫øt API `POST /scan` nh·∫≠n ·∫£nh -> G·ªçi Gemini -> Parse JSON -> L∆∞u v√†o DB.</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="bg-slate-900/50 p-6 rounded-2xl border border-purple-900/50">
                        <div class="flex items-center gap-3 mb-4 border-b border-slate-800 pb-4">
                            <span class="text-3xl">üß†</span>
                            <div>
                                <h3 class="text-purple-400 font-bold text-xl">Module 2: AI Memory Core (L√µi K√Ω ·ª®c)</h3>
                                <p class="text-xs text-slate-500 uppercase font-bold tracking-widest">T√≠nh nƒÉng Key
                                    (Unique Selling Point)</p>
                            </div>
                        </div>

                        <div class="grid md:grid-cols-2 gap-8">
                            <div>
                                <h4 class="text-white font-bold mb-2 flex items-center gap-2">
                                    <span class="text-green-400">‚úì</span> H·ªá th·ªëng l√†m gi√∫p g√¨?
                                </h4>
                                <ul class="space-y-3 text-slate-400 text-sm">
                                    <li><strong>Ph·ªèng v·∫•n ch·ªß ƒë·ªông:</strong> AI t·ª± nghƒ© ra c√¢u h·ªèi d·ª±a tr√™n l·ªãch s·ª≠ tr√≤
                                        chuy·ªán c≈© (Context aware), kh√¥ng h·ªèi l·∫∑p l·∫°i.</li>
                                    <li><strong>Bi√™n t·∫≠p vi√™n ·∫£o:</strong> Chuy·ªÉn l·ªùi k·ªÉ lan man, ng·∫≠p ng·ª´ng c·ªßa ng∆∞·ªùi
                                        gi√† th√†nh vƒÉn b·∫£n g√£y g·ªçn, vƒÉn phong ho√†i ni·ªám.</li>
                                    <li><strong>Truy xu·∫•t ng·ªØ nghƒ©a (RAG):</strong> Khi h·ªèi "B√† th√≠ch ƒÉn g√¨?", AI t√¨m
                                        trong h√†ng ngh√¨n ƒëo·∫°n ghi √¢m ƒë·ªÉ tr·∫£ l·ªùi ch√≠nh x√°c, ch·ª© kh√¥ng b·ªãa ƒë·∫∑t.</li>
                                </ul>
                            </div>

                            <div class="bg-slate-950 p-4 rounded-xl border border-slate-800">
                                <h4 class="text-purple-200 font-bold mb-2 text-sm uppercase">üõ†Ô∏è Dev c·∫ßn l√†m g√¨?</h4>
                                <ul class="space-y-2 text-slate-400 text-xs font-mono">
                                    <li>- T√≠ch h·ª£p <strong>Pinecone/MongoDB Atlas</strong> ƒë·ªÉ l∆∞u Vector Embeddings.
                                    </li>
                                    <li>- Vi·∫øt lu·ªìng: Audio -> Whisper API -> Text -> Gemini (Refine) -> Vector DB.</li>
                                    <li>- Vi·∫øt Prompt cho Gemini: "ƒê√≥ng vai ng∆∞·ªùi ch√°u ngoan, h·ªèi chuy·ªán b√† v·ªÅ ch·ªß ƒë·ªÅ
                                        X".</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="bg-slate-900/50 p-6 rounded-2xl border border-green-900/50">
                        <div class="flex items-center gap-3 mb-4 border-b border-slate-800 pb-4">
                            <span class="text-3xl">‚ù§Ô∏è</span>
                            <div>
                                <h3 class="text-green-400 font-bold text-xl">Module 3: Vital Core (L√µi S·ª©c Kh·ªèe)</h3>
                                <p class="text-xs text-slate-500 uppercase font-bold tracking-widest">X·ª≠ l√Ω d·ªØ li·ªáu l·ªõn
                                    (Big Data Scale)</p>
                            </div>
                        </div>

                        <div class="grid md:grid-cols-2 gap-8">
                            <div>
                                <h4 class="text-white font-bold mb-2 flex items-center gap-2">
                                    <span class="text-green-400">‚úì</span> H·ªá th·ªëng l√†m gi√∫p g√¨?
                                </h4>
                                <ul class="space-y-3 text-slate-400 text-sm">
                                    <li><strong>Nh·∫≠n di·ªán dinh d∆∞·ª°ng:</strong> Nh√¨n ·∫£nh m√¢m c∆°m -> Bi·∫øt ngay bao nhi√™u
                                        Calo, c√≥ m·∫∑n hay ng·ªçt qu√° kh√¥ng (Vision AI).</li>
                                    <li><strong>Ph√°t hi·ªán b·∫•t th∆∞·ªùng:</strong> N·∫øu nh·ªãp tim tƒÉng cao ho·∫∑c c·ª• kh√¥ng v·∫≠n
                                        ƒë·ªông trong 12 ti·∫øng -> K√≠ch ho·∫°t SOS.</li>
                                    <li><strong>B√°o c√°o tr·ª±c quan:</strong> V·∫Ω bi·ªÉu ƒë·ªì ƒë∆∞·ªùng (Line chart) gi√∫p b√°c sƒ©
                                        nh√¨n ra xu h∆∞·ªõng b·ªánh.</li>
                                </ul>
                            </div>

                            <div class="bg-slate-950 p-4 rounded-xl border border-slate-800">
                                <h4 class="text-green-200 font-bold mb-2 text-sm uppercase">üõ†Ô∏è Dev c·∫ßn l√†m g√¨?</h4>
                                <ul class="space-y-2 text-slate-400 text-xs font-mono">
                                    <li>- T√≠ch h·ª£p th∆∞ vi·ªán Chart.js ho·∫∑c Recharts ·ªü Frontend Manager.</li>
                                    <li>- Vi·∫øt API `POST /analyze-food` g·ª≠i ·∫£nh l√™n Gemini Vision nh·∫≠n JSON Calo.</li>
                                    <li>- Logic Trigger: `IF (last_movement > 12h) THEN send_notification()`.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <section id="interface-strategy" class="max-w-5xl mx-auto mb-20 pt-12 border-t border-slate-800">

                        <div class="mb-10">
                            <h2 class="text-3xl font-black text-white mb-6">1.2. ƒê·∫∑c t·∫£ Chi·∫øn l∆∞·ª£c Giao di·ªán (Detailed
                                Interface Specification)</h2>
                            <p class="text-slate-400 text-lg leading-relaxed">
                                H·ªá th·ªëng ƒë∆∞·ª£c ki·∫øn tr√∫c theo m√¥ h√¨nh <strong>Multi-Tenant Frontend</strong>. D√π s·ª≠ d·ª•ng
                                chung m·ªôt c∆° s·ªü d·ªØ li·ªáu (Database) v√† Backend API, nh∆∞ng tr·∫£i nghi·ªám ng∆∞·ªùi d√πng ƒë∆∞·ª£c
                                ph√¢n t√°ch th√†nh 03 kh√¥ng gian s·ªë (Digital Spaces) ri√™ng bi·ªát, ƒë∆∞·ª£c t·ªëi ∆∞u h√≥a tri·ªát ƒë·ªÉ
                                cho t·ª´ng nh√≥m ƒë·ªëi t∆∞·ª£ng.
                            </p>
                        </div>

                        <div class="space-y-16">

                            <div class="pl-8 border-l-4 border-blue-600 relative">
                                <span
                                    class="absolute -left-[26px] top-0 flex h-12 w-12 items-center justify-center rounded-full bg-slate-900 border-4 border-blue-600 text-2xl">üë¥</span>

                                <h3 class="text-2xl font-bold text-white mb-2">1. Ph√¢n h·ªá Kiosk cho Ng∆∞·ªùi Cao Tu·ªïi (The
                                    Elderly Interface)</h3>
                                <div class="flex gap-4 text-xs font-mono text-blue-400 mb-6 uppercase tracking-wider">
                                    <span>URL: /app/elderly</span>
                                    <span>‚Ä¢</span>
                                    <span>Auth: QR Token</span>
                                    <span>‚Ä¢</span>
                                    <span>View: Tablet Landscape</span>
                                </div>

                                <div class="space-y-6 text-slate-300">
                                    <div>
                                        <h4 class="text-white font-bold text-sm uppercase mb-2">A. ƒê·ªãnh h∆∞·ªõng Tr·∫£i
                                            nghi·ªám (UX Direction)</h4>
                                        <p class="text-sm leading-relaxed mb-2">
                                            Giao di·ªán n√†y ho·∫°t ƒë·ªông nh∆∞ m·ªôt thi·∫øt b·ªã chuy√™n d·ª•ng (Appliance-like), kh√¥ng
                                            gi·ªëng m·ªôt website th√¥ng th∆∞·ªùng. M·ª•c ti√™u t·ªëi th∆∞·ª£ng l√†
                                            <strong>"Zero-Friction" (Kh√¥ng ƒëi·ªÉm g·ª£n)</strong>. Ng∆∞·ªùi d√πng kh√¥ng c·∫ßn h·ªçc
                                            c√°ch s·ª≠ d·ª•ng; h·ªá th·ªëng s·∫Ω t·ª± ƒë·ªông ƒëi·ªÅu h∆∞·ªõng h·ªç.
                                        </p>
                                        <ul class="list-disc pl-5 text-sm text-slate-400 space-y-1">
                                            <li><strong>C∆° ch·∫ø "Wake Lock":</strong> NgƒÉn ch·∫∑n m√†n h√¨nh thi·∫øt b·ªã t·ª± t·∫Øt,
                                                ƒë·∫£m b·∫£o giao di·ªán lu√¥n hi·ªÉn th·ªã 24/7.</li>
                                            <li><strong>C∆° ch·∫ø "Auto-Recovery":</strong> N·∫øu m·∫•t k·∫øt n·ªëi m·∫°ng, h·ªá th·ªëng
                                                t·ª± ƒë·ªông l∆∞u cache c·ª•c b·ªô (Service Worker) v√† ƒë·ªìng b·ªô l·∫°i khi c√≥ m·∫°ng,
                                                ƒë·∫£m b·∫£o t√≠nh nƒÉng nh·∫Øc thu·ªëc kh√¥ng b·ªã gi√°n ƒëo·∫°n.</li>
                                        </ul>
                                    </div>

                                    <div>
                                        <h4 class="text-white font-bold text-sm uppercase mb-2">B. M√†n h√¨nh Ch·ªù (Standby
                                            Dashboard)</h4>
                                        <p class="text-sm leading-relaxed">
                                            ƒê√¢y l√† tr·∫°ng th√°i m·∫∑c ƒë·ªãnh c·ªßa thi·∫øt b·ªã. Thi·∫øt k·∫ø s·ª≠ d·ª•ng c√°c kh·ªëi th√¥ng tin
                                            (Info Blocks) k√≠ch th∆∞·ªõc l·ªõn, ƒë·ªô t∆∞∆°ng ph·∫£n cao (High Contrast).
                                            <br><strong>C√°c th√†nh ph·∫ßn ch√≠nh:</strong>
                                            <br>- <strong>ƒê·ªìng h·ªì Sinh h·ªçc:</strong> Hi·ªÉn th·ªã gi·ªù v·ªõi font size >80px.
                                            Background thay ƒë·ªïi m√†u s·∫Øc theo bu·ªïi (S√°ng: V√†ng nh·∫°t / T·ªëi: Xanh ƒë·∫≠m) ƒë·ªÉ
                                            gi√∫p ng∆∞·ªùi gi√† ƒë·ªãnh v·ªã th·ªùi gian.
                                            <br>- <strong>N√∫t Kh·∫©n c·∫•p (SOS Trigger):</strong> N√∫t v·∫≠t l√Ω ·∫£o m√†u ƒë·ªè,
                                            k√≠ch th∆∞·ªõc 120x120px ·ªü g√≥c m√†n h√¨nh. Logic k√≠ch ho·∫°t bao g·ªìm ƒë·∫øm ng∆∞·ª£c 5
                                            gi√¢y ƒë·ªÉ tr√°nh b√°o ƒë·ªông gi·∫£ do ch·∫°m nh·∫ßm.
                                        </p>
                                    </div>

                                    <div>
                                        <h4 class="text-white font-bold text-sm uppercase mb-2">C. C∆° ch·∫ø Nh·∫Øc thu·ªëc
                                            (Critical Alert Modal)</h4>
                                        <p class="text-sm leading-relaxed">
                                            Khi ƒë·∫øn gi·ªù ƒë·ªãnh s·∫µn (Trigger t·ª´ Cron Job), h·ªá th·ªëng k√≠ch ho·∫°t ch·∫ø ƒë·ªô "B√°o
                                            ƒë·ªông ∆∞u ti√™n" (Priority Alert):
                                            <br>1. <strong>Overlay:</strong> M·ªôt l·ªõp ph·ªß ƒëen m·ªù (Opacity 95%) che to√†n
                                            b·ªô c√°c n·ªôi dung kh√°c.
                                            <br>2. <strong>Visual:</strong> Hi·ªÉn th·ªã ·∫£nh ch·ª•p th·ª±c t·∫ø c·ªßa v·ªâ thu·ªëc/vi√™n
                                            thu·ªëc c·∫ßn u·ªëng (L·∫•y t·ª´ Database). K√≠ch th∆∞·ªõc ·∫£nh chi·∫øm 40% m√†n h√¨nh.
                                            <br>3. <strong>Audio:</strong> H·ªá th·ªëng t·ª± ƒë·ªông ph√°t √¢m thanh (TTS - Text to
                                            Speech): <em>"B√† ∆°i, ƒë·∫øn gi·ªù u·ªëng thu·ªëc ti·ªÉu ƒë∆∞·ªùng r·ªìi. Thu·ªëc m√†u tr·∫Øng,
                                                h√¨nh tr√≤n ·∫°."</em> L·∫∑p l·∫°i 3 l·∫ßn.
                                            <br>4. <strong>Action:</strong> Ch·ªâ hi·ªÉn th·ªã duy nh·∫•t m·ªôt n√∫t b·∫•m l·ªõn
                                            <strong>"T√îI ƒê√É U·ªêNG"</strong>. Khi b·∫•m, h·ªá th·ªëng ghi log th·ªùi gian th·ª±c v√†
                                            t·∫Øt b√°o ƒë·ªông.
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div class="pl-8 border-l-4 border-green-600 relative">
                                <span
                                    class="absolute -left-[26px] top-0 flex h-12 w-12 items-center justify-center rounded-full bg-slate-900 border-4 border-green-600 text-2xl">üßë‚Äçüíº</span>

                                <h3 class="text-2xl font-bold text-white mb-2">2. Ph√¢n h·ªá Qu·∫£n l√Ω cho Ng∆∞·ªùi Th√¢n (Family
                                    Dashboard)</h3>
                                <div class="flex gap-4 text-xs font-mono text-green-400 mb-6 uppercase tracking-wider">
                                    <span>URL: /app/manager</span>
                                    <span>‚Ä¢</span>
                                    <span>Auth: Email/Password</span>
                                    <span>‚Ä¢</span>
                                    <span>View: Responsive</span>
                                </div>

                                <div class="space-y-6 text-slate-300">
                                    <div>
                                        <h4 class="text-white font-bold text-sm uppercase mb-2">A. ƒê·ªãnh h∆∞·ªõng Tr·∫£i
                                            nghi·ªám</h4>
                                        <p class="text-sm leading-relaxed mb-2">
                                            ƒê√≥ng vai tr√≤ l√† "Trung t√¢m Ki·ªÉm so√°t" (Control Tower). Giao di·ªán n√†y t·∫≠p
                                            trung v√†o <strong>D·ªØ li·ªáu (Data-Viz)</strong> v√† <strong>C·∫•u h√¨nh
                                                (Configuration)</strong>. Ng∆∞·ªùi d√πng l√† ng∆∞·ªùi tr·∫ª, th√†nh th·∫°o c√¥ng ngh·ªá,
                                            n√™n giao di·ªán tu√¢n theo chu·∫©n Dashboard hi·ªán ƒë·∫°i (nh∆∞ Vercel/Stripe
                                            Dashboard).
                                        </p>
                                    </div>

                                    <div>
                                        <h4 class="text-white font-bold text-sm uppercase mb-2">B. Gi√°m s√°t Th·ªùi gian
                                            th·ª±c (Live Monitoring)</h4>
                                        <p class="text-sm leading-relaxed">
                                            S·ª≠ d·ª•ng k·∫øt n·ªëi <strong>Websocket (Socket.io)</strong> ƒë·ªÉ ƒë·ªìng b·ªô tr·∫°ng th√°i
                                            t·ª©c th√¨ gi·ªØa thi·∫øt b·ªã c·ªßa C·ª• v√† m√°y c·ªßa Con:
                                            <br>- <strong>Heartbeat Check:</strong> Hi·ªÉn th·ªã tr·∫°ng th√°i Online/Offline
                                            v√† % Pin c·ªßa thi·∫øt b·ªã C·ª•. N·∫øu m·∫•t k·∫øt n·ªëi qu√° 30 ph√∫t, h·ªá th·ªëng g·ª≠i c·∫£nh
                                            b√°o.
                                            <br>- <strong>Adherence Chart:</strong> Bi·ªÉu ƒë·ªì tr·ª±c quan (Chart.js) th·ªÉ
                                            hi·ªán t·ª∑ l·ªá tu√¢n th·ªß u·ªëng thu·ªëc trong tu·∫ßn. M√†u xanh (ƒê√∫ng gi·ªù), V√†ng (Mu·ªôn),
                                            ƒê·ªè (B·ªè li·ªÅu).
                                        </p>
                                    </div>

                                    <div>
                                        <h4 class="text-white font-bold text-sm uppercase mb-2">C. Qu·∫£n l√Ω Thu·ªëc & AI
                                            Scan (OCR Flow)</h4>
                                        <p class="text-sm leading-relaxed">
                                            Quy tr√¨nh nh·∫≠p li·ªáu ph·ª©c t·∫°p ƒë∆∞·ª£c ƒë∆°n gi·∫£n h√≥a nh·ªù AI:
                                            <br>1. <strong>Input:</strong> Ng∆∞·ªùi d√πng t·∫£i l√™n ·∫£nh ch·ª•p ƒê∆°n thu·ªëc ho·∫∑c V·ªè
                                            h·ªôp thu·ªëc.
                                            <br>2. <strong>Process:</strong> Google Gemini Vision API ph√¢n t√≠ch ·∫£nh,
                                            tr√≠ch xu·∫•t d·ªØ li·ªáu th√¥ (JSON).
                                            <br>3. <strong>Verification (Human-in-the-loop):</strong> H·ªá th·ªëng hi·ªÉn th·ªã
                                            form ƒëi·ªÅn s·∫µn (Pre-filled Form). Ng∆∞·ªùi d√πng ch·ªâ c·∫ßn ki·ªÉm tra l·∫°i v√† b·∫•m "X√°c
                                            nh·∫≠n".
                                            <br>4. <strong>Sync:</strong> Ngay sau khi l∆∞u, l·ªãch u·ªëng thu·ªëc m·ªõi s·∫Ω ƒë∆∞·ª£c
                                            ƒë·∫©y xu·ªëng m√°y c·ªßa C·ª• trong < 1 gi√¢y. </p>
                                    </div>

                                    <div>
                                        <h4 class="text-white font-bold text-sm uppercase mb-2">D. Kho t√†ng K√Ω ·ª©c
                                            (Memory Vault)</h4>
                                        <p class="text-sm leading-relaxed">
                                            Giao di·ªán qu·∫£n l√Ω t√†i s·∫£n s·ªë (Digital Assets):
                                            <br>- <strong>Gallery View:</strong> Hi·ªÉn th·ªã danh s√°ch c√°c file ghi √¢m d∆∞·ªõi
                                            d·∫°ng th·∫ª (Card), c√≥ g·∫Øn nh√£n ch·ªß ƒë·ªÅ (Tagging) do AI t·ª± ph√¢n lo·∫°i.
                                            <br>- <strong>Legacy Chatbot:</strong> M·ªôt giao di·ªán Chat (RAG Interface)
                                            cho ph√©p con ch√°u ƒë·∫∑t c√¢u h·ªèi. H·ªá th·ªëng s·ª≠ d·ª•ng Vector Search ƒë·ªÉ t√¨m ki·∫øm
                                            trong kho d·ªØ li·ªáu k√Ω ·ª©c v√† tr·∫£ l·ªùi d·ª±a tr√™n ng·ªØ c·∫£nh th·ª±c t·∫ø c·ªßa ng∆∞·ªùi gi√†.
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div class="pl-8 border-l-4 border-red-600 relative">
                                <span
                                    class="absolute -left-[26px] top-0 flex h-12 w-12 items-center justify-center rounded-full bg-slate-900 border-4 border-red-600 text-2xl">üõ†Ô∏è</span>

                                <h3 class="text-2xl font-bold text-white mb-2">3. Ph√¢n h·ªá Qu·∫£n tr·ªã H·ªá th·ªëng (System
                                    Admin)</h3>
                                <div class="flex gap-4 text-xs font-mono text-red-400 mb-6 uppercase tracking-wider">
                                    <span>URL: /admin</span>
                                    <span>‚Ä¢</span>
                                    <span>Auth: Admin Key</span>
                                    <span>‚Ä¢</span>
                                    <span>View: Desktop Only</span>
                                </div>

                                <div class="space-y-6 text-slate-300">
                                    <div>
                                        <h4 class="text-white font-bold text-sm uppercase mb-2">A. Qu·∫£n tr·ªã Ng∆∞·ªùi d√πng
                                            (User Management)</h4>
                                        <p class="text-sm leading-relaxed">
                                            D√†nh cho Super Admin/Dev ƒë·ªÉ v·∫≠n h√†nh.
                                            <br>- Qu·∫£n l√Ω danh s√°ch c√°c H·ªô gia ƒë√¨nh (Tenants).
                                            <br>- C·∫•p l·∫°i m√£ QR k·∫øt n·ªëi (trong tr∆∞·ªùng h·ª£p ng∆∞·ªùi d√πng l√†m m·∫•t).
                                            <br>- Theo d√µi tr·∫°ng th√°i ho·∫°t ƒë·ªông (Active/Inactive) c·ªßa t·ª´ng t√†i kho·∫£n.
                                        </p>
                                    </div>

                                    <div>
                                        <h4 class="text-white font-bold text-sm uppercase mb-2">B. Gi√°m s√°t T√†i nguy√™n &
                                            Chi ph√≠ (Resource Monitor)</h4>
                                        <p class="text-sm leading-relaxed">
                                            Do h·ªá th·ªëng s·ª≠ d·ª•ng c√°c API tr·∫£ ph√≠ (Gemini, OpenAI Whisper), giao di·ªán n√†y
                                            c·ª±c k·ª≥ quan tr·ªçng ƒë·ªÉ ki·ªÉm so√°t ng√¢n s√°ch:
                                            <br>- <strong>Token Usage:</strong> Th·ªëng k√™ s·ªë l∆∞·ª£ng Token AI ƒë√£ ti√™u th·ª•
                                            theo ng√†y/tu·∫ßn.
                                            <br>- <strong>Storage:</strong> Gi√°m s√°t dung l∆∞·ª£ng l∆∞u tr·ªØ (AWS S3) c·ªßa c√°c
                                            file ghi √¢m v√† h√¨nh ·∫£nh.
                                            <br>- <strong>Error Logs:</strong> Danh s√°ch l·ªói k·ªπ thu·∫≠t (Frontend/Backend)
                                            ƒë·ªÉ ƒë·ªôi ng≈© Dev k·ªãp th·ªùi kh·∫Øc ph·ª•c (Debug).
                                        </p>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </section>
                </div>
            </div>
            <section id="interface-strategy" class="max-w-6xl mx-auto mb-20 space-y-16">
                <section id="interface-strategy" class="max-w-6xl mx-auto mb-20 pt-12 border-t border-slate-800">
                    <section id="er-diagram" class="max-w-6xl mx-auto mb-20 pt-12 border-t border-slate-800">
                        <h2 class="text-3xl font-black text-white mb-8 flex items-center gap-3">
                            <span
                                class="bg-blue-600 w-8 h-8 rounded-lg flex items-center justify-center text-sm">2.0</span>
                            Quan h·ªá Th·ª±c th·ªÉ & Lu·ªìng D·ªØ li·ªáu (Entity Relationships)
                        </h2>

                        <p class="text-slate-400 mb-8 text-lg">
                            H·ªá th·ªëng ƒë∆∞·ª£c thi·∫øt k·∫ø theo m√¥ h√¨nh <strong>Domain-Driven Design (DDD)</strong>, t·∫≠p trung
                            v√†o 3 c·ª•m d·ªØ li·ªáu ch√≠nh: User Management, Medical Core v√† Digital Legacy.
                        </p>

                        <div class="grid md:grid-cols-2 gap-8">
                            <div class="space-y-4">
                                <div
                                    class="bg-slate-900 p-4 rounded-xl border border-slate-800 flex items-center gap-4">
                                    <span class="text-2xl">üè†</span>
                                    <div>
                                        <strong class="text-white block text-sm">Family Group (1) ‚Üî (N) Users</strong>
                                        <p class="text-xs text-slate-500">M·ªôt h·ªô gia ƒë√¨nh ch·ª©a nhi·ªÅu th√†nh vi√™n (1 C·ª• +
                                            N Con ch√°u). D·ªØ li·ªáu ƒë∆∞·ª£c c√¥ l·∫≠p (isolate) theo FamilyID.</p>
                                    </div>
                                </div>

                                <div
                                    class="bg-slate-900 p-4 rounded-xl border border-slate-800 flex items-center gap-4">
                                    <span class="text-2xl">üíä</span>
                                    <div>
                                        <strong class="text-white block text-sm">User (1) ‚Üî (N) Medications</strong>
                                        <p class="text-xs text-slate-500">M·ªói c·ª• c√≥ m·ªôt t·ªß thu·ªëc ri√™ng (Inventory).
                                            Thu·ªëc c·ªßa c·ª• A kh√¥ng hi·ªán b√™n c·ª• B.</p>
                                    </div>
                                </div>

                                <div
                                    class="bg-slate-900 p-4 rounded-xl border border-slate-800 flex items-center gap-4">
                                    <span class="text-2xl">‚è∞</span>
                                    <div>
                                        <strong class="text-blue-400 block text-sm">Medication (1) ‚Üî (N)
                                            Schedules</strong>
                                        <p class="text-xs text-slate-500">M·ªôt lo·∫°i thu·ªëc (VD: Panadol) c√≥ th·ªÉ c√≥ nhi·ªÅu
                                            l·ªãch u·ªëng (S√°ng 1 vi√™n, T·ªëi 1 vi√™n).</p>
                                    </div>
                                </div>

                                <div
                                    class="bg-slate-900 p-4 rounded-xl border border-slate-800 flex items-center gap-4">
                                    <span class="text-2xl">üìù</span>
                                    <div>
                                        <strong class="text-green-400 block text-sm">Schedule (1) ‚Üî (N) Consumption
                                            Logs</strong>
                                        <p class="text-xs text-slate-500">Quan tr·ªçng nh·∫•t: L∆∞u l·ªãch s·ª≠ u·ªëng. M·ªói l·∫ßn ƒë·∫øn
                                            gi·ªù u·ªëng -> T·∫°o 1 Log (Status: Taken/Missed).</p>
                                    </div>
                                </div>
                                <div
                                    class="bg-slate-900 p-4 rounded-xl border border-slate-800 flex items-center gap-4">
                                    <span class="text-2xl">üß†</span>
                                    <div>
                                        <strong class="text-purple-400 block text-sm">User (1) ‚Üî (N) Memories</strong>
                                        <p class="text-xs text-slate-500">L∆∞u tr·ªØ c√°c ƒëo·∫°n h·ªôi tho·∫°i/h·ªìi k√Ω c·ªßa ng∆∞·ªùi
                                            gi√† ƒë·ªÉ hu·∫•n luy·ªán AI Chatbot.</p>
                                    </div>
                                </div>
                            </div>

                            <div
                                class="bg-slate-950 border border-slate-800 rounded-xl p-6 flex items-center justify-center">
                                <div class="space-y-6 w-full font-mono text-xs">
                                    <div class="text-slate-500 uppercase font-bold text-center mb-2">Data Flow Logic
                                    </div>

                                    <div class="flex justify-center">
                                        <div
                                            class="bg-blue-900/20 border border-blue-600 text-blue-400 px-4 py-2 rounded">
                                            FAMILY (Root)</div>
                                    </div>
                                    <div class="flex justify-center">
                                        <div class="h-4 w-px bg-slate-700"></div>
                                    </div>
                                    <div class="flex justify-center gap-8">
                                        <div
                                            class="bg-slate-800 border border-slate-600 text-slate-300 px-4 py-2 rounded">
                                            Manager (Admin)</div>
                                        <div
                                            class="bg-green-900/20 border border-green-600 text-green-400 px-4 py-2 rounded">
                                            Elderly (User)</div>
                                    </div>
                                    <div class="flex justify-center gap-8">
                                        <div class="h-4 w-px bg-transparent"></div>
                                        <div class="h-4 w-px bg-slate-700"></div>
                                    </div>
                                    <div class="flex justify-center gap-4">
                                        <div class="bg-slate-900 border border-slate-700 p-3 rounded w-1/3">
                                            <strong class="text-yellow-500 block mb-1">Medication</strong>
                                            <span class="text-slate-500 block">Inventory</span>
                                            <span class="text-slate-500 block">OCR Data</span>
                                        </div>
                                        <div class="bg-slate-900 border border-slate-700 p-3 rounded w-1/3">
                                            <strong class="text-purple-500 block mb-1">Memories</strong>
                                            <span class="text-slate-500 block">Audio URL</span>
                                            <span class="text-slate-500 block">Vector Embed</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <section id="database-detailed" class="max-w-6xl mx-auto mb-20 pt-12 border-t border-slate-800">

                        <div class="mb-10">
                            <h2 class="text-3xl font-black text-white mb-4 flex items-center gap-3">
                                <span
                                    class="bg-yellow-600 w-8 h-8 rounded-lg flex items-center justify-center text-sm text-black">3.0</span>
                                Database Schema (Production Ready)
                            </h2>
                            <p class="text-slate-400 text-lg">
                                S·ª≠ d·ª•ng <strong>MongoDB</strong> v·ªõi th∆∞ vi·ªán <strong>Mongoose</strong>.
                                <br>Quy t·∫Øc chung:
                                <span class="text-xs bg-slate-800 px-2 py-1 rounded border border-slate-700 ml-2">Soft
                                    Delete (isDeleted)</span>
                                <span
                                    class="text-xs bg-slate-800 px-2 py-1 rounded border border-slate-700 ml-2">Indexing
                                    FKs</span>
                                <span
                                    class="text-xs bg-slate-800 px-2 py-1 rounded border border-slate-700 ml-2">Timestamps</span>
                            </p>
                        </div>

                        <div class="space-y-16">

                            <div class="pl-6 border-l-2 border-blue-600">
                                <h3 class="text-xl font-bold text-blue-400 mb-4">1. Identity Module (Qu·∫£n l√Ω User & Gia
                                    ƒë√¨nh)</h3>

                                <div class="grid lg:grid-cols-2 gap-8">
                                    <div class="bg-slate-900 rounded-xl overflow-hidden border border-slate-800">
                                        <div
                                            class="bg-slate-950 p-3 border-b border-slate-800 font-mono text-xs text-blue-300 font-bold">
                                            User.js
                                        </div>
                                        <pre class="p-4 text-xs text-slate-300 font-mono overflow-x-auto leading-5">
const UserSchema = new Schema({
  // --- Auth Info ---
  phoneNumber: { 
    type: String, 
    unique: true, 
    sparse: true, // Cho ph√©p null (n·∫øu login b·∫±ng email)
    index: true   // T·ªëi ∆∞u t√¨m ki·∫øm khi login
  },
  email: { type: String, unique: true, sparse: true, lowercase: true },
  password: { type: String, select: false }, // ·∫®n khi query m·∫∑c ƒë·ªãnh
  
  // --- Profile ---
  fullName: { type: String, required: true },
  nickname: { type: String }, // VD: "B√† N·ªôi", "M·∫π Lan"
  avatar: { type: String, default: "https://silverlink.ai/default.png" },
  role: { 
    type: String, 
    enum: ['elderly', 'manager', 'admin'], 
    default: 'elderly',
    required: true
  },

  // --- Relationships ---
  familyId: { type: Schema.Types.ObjectId, ref: 'Family', index: true },

  // --- Settings (C·∫•u h√¨nh) ---
  settings: {
    voiceMode: { type: Boolean, default: true }, // B·∫≠t t·∫Øt ƒë·ªçc AI
    timezone: { type: String, default: 'Asia/Ho_Chi_Minh' }, // Quan tr·ªçng ƒë·ªÉ nh·∫Øc thu·ªëc
    reminderVolume: { type: Number, min: 0, max: 100, default: 80 },
    appLanguage: { type: String, enum: ['vi', 'en'], default: 'vi' }
  },

  // --- Device & Push ---
  fcmTokens: [String], // M·∫£ng token Firebase ƒë·ªÉ g·ª≠i Noti
  lastActiveAt: Date,  // ƒê·ªÉ bi·∫øt c·ª• c√≤n online kh√¥ng
  isDeleted: { type: Boolean, default: false } // Soft delete
}, { timestamps: true });</pre>
                                    </div>

                                    <div class="bg-slate-900 rounded-xl overflow-hidden border border-slate-800">
                                        <div
                                            class="bg-slate-950 p-3 border-b border-slate-800 font-mono text-xs text-blue-300 font-bold">
                                            Family.js
                                        </div>
                                        <pre class="p-4 text-xs text-slate-300 font-mono overflow-x-auto leading-5">
const FamilySchema = new Schema({
  name: { type: String, required: true }, // "Gia ƒë√¨nh √îng Ba"
  
  // M√£ m·ªùi ƒë·ªÉ con ch√°u join v√†o (6 k√Ω t·ª±)
  inviteCode: { 
    type: String, 
    unique: true, 
    uppercase: true,
    index: true 
  }, 

  ownerId: { type: Schema.Types.ObjectId, ref: 'User' }, // Ng∆∞·ªùi t·∫°o

  members: [{
    userId: { type: Schema.Types.ObjectId, ref: 'User' },
    role: { type: String, enum: ['admin', 'member'] }, // Admin ƒë∆∞·ª£c x√≥a ng∆∞·ªùi kh√°c
    joinedAt: { type: Date, default: Date.now }
  }],

  // G√≥i d·ªãch v·ª• (Ki·∫øm ti·ªÅn ·ªü ƒë√¢y)
  subscription: {
    plan: { type: String, enum: ['free', 'premium'], default: 'free' },
    expiryDate: Date,
    maxMembers: { type: Number, default: 5 }
  }
}, { timestamps: true });</pre>
                                    </div>
                                </div>
                            </div>

                            <div class="pl-6 border-l-2 border-green-600">
                                <h3 class="text-xl font-bold text-green-400 mb-4">2. Medical Module (Thu·ªëc & L·ªãch tr√¨nh)
                                </h3>
                                <p class="text-sm text-slate-500 mb-4">Logic x·ª≠ l√Ω l·ªãch u·ªëng thu·ªëc l·∫∑p l·∫°i (Recurrence)
                                    v√† kho thu·ªëc (Inventory).</p>

                                <div class="grid lg:grid-cols-2 gap-8">
                                    <div class="bg-slate-900 rounded-xl overflow-hidden border border-slate-800">
                                        <div
                                            class="bg-slate-950 p-3 border-b border-slate-800 font-mono text-xs text-green-300 font-bold">
                                            Medication.js (Kho Thu·ªëc)
                                        </div>
                                        <pre class="p-4 text-xs text-slate-300 font-mono overflow-x-auto leading-5">
const MedicationSchema = new Schema({
  userId: { type: Schema.Types.ObjectId, ref: 'User', index: true },
  
  // --- Basic Info ---
  name: { type: String, required: true }, // "Panadol Extra"
  nickname: { type: String }, // "Thu·ªëc ƒëau ƒë·∫ßu m√†u ƒë·ªè"
  image: { type: String, required: true }, // ·∫¢nh v·ªè h·ªôp (AI Scan)
  pillImage: { type: String }, // ·∫¢nh vi√™n thu·ªëc (ƒê·ªÉ hi·ªán l√∫c nh·∫Øc)
  
  // --- AI Metadata (ƒê·ªÉ ƒë·ªëi chi·∫øu sai s√≥t) ---
  aiData: {
    originalText: String, // Text g·ªëc OCR ƒë·ªçc ƒë∆∞·ª£c
    confidence: Number, // ƒê·ªô tin c·∫≠y (0.9 = 90%)
    extractedAt: Date
  },

  // --- Inventory (Kho) ---
  totalStock: { type: Number, default: 0, min: 0 }, // T·ªïng s·ªë vi√™n
  unit: { type: String, default: 'vi√™n' }, // vi√™n, g√≥i, chai
  lowStockThreshold: { type: Number, default: 5 }, // C·∫£nh b√°o khi <= 5
  expiryDate: Date,

  doctorNote: String, // "B√°c sƒ© d·∫∑n u·ªëng nhi·ªÅu n∆∞·ªõc"
  isActive: { type: Boolean, default: true }
}, { timestamps: true });</pre>
                                    </div>

                                    <div class="bg-slate-900 rounded-xl overflow-hidden border border-slate-800">
                                        <div
                                            class="bg-slate-950 p-3 border-b border-slate-800 font-mono text-xs text-green-300 font-bold">
                                            Schedule.js (L·ªãch U·ªëng)
                                        </div>
                                        <pre class="p-4 text-xs text-slate-300 font-mono overflow-x-auto leading-5">
const ScheduleSchema = new Schema({
  userId: { type: Schema.Types.ObjectId, ref: 'User', index: true },
  medicationId: { type: Schema.Types.ObjectId, ref: 'Medication' },
  
  time: { type: String, required: true }, // "08:00" (Format 24h)
  dosage: { type: Number, required: true, default: 1 }, // S·ªë l∆∞·ª£ng u·ªëng 1 l·∫ßn
  
  // --- Logic L·∫∑p l·∫°i (Recurrence) ---
  recurrence: {
    type: { 
      type: String, 
      enum: ['daily', 'specific_days', 'interval'], 
      default: 'daily' 
    },
    // N·∫øu type='specific_days' -> [1, 3, 5] (Th·ª© 2, 4, 6)
    daysOfWeek: [{ type: Number, min: 0, max: 6 }], 
    // N·∫øu type='interval' -> 2 (C√°ch 2 ng√†y u·ªëng 1 l·∫ßn)
    interval: Number 
  },

  instruction: { 
    type: String, 
    enum: ['before_meal', 'after_meal', 'during_meal'],
    default: 'after_meal'
  },
  
  startDate: { type: Date, default: Date.now },
  endDate: Date // U·ªëng ƒë·∫øn khi n√†o th√¨ d·ª´ng
}, { timestamps: true });</pre>
                                    </div>

                                    <div
                                        class="md:col-span-2 bg-slate-900 rounded-xl overflow-hidden border border-slate-800">
                                        <div
                                            class="bg-slate-950 p-3 border-b border-slate-800 font-mono text-xs text-green-300 font-bold">
                                            ConsumptionLog.js (L·ªãch S·ª≠)
                                        </div>
                                        <pre class="p-4 text-xs text-slate-300 font-mono overflow-x-auto leading-5">
const LogSchema = new Schema({
  scheduleId: { type: Schema.Types.ObjectId, ref: 'Schedule' },
  medicationId: { type: Schema.Types.ObjectId, ref: 'Medication' },
  userId: { type: Schema.Types.ObjectId, ref: 'User', index: true },
  
  // --- Tr·∫°ng th√°i ---
  status: { 
    type: String, 
    enum: ['taken', 'missed', 'skipped', 'late'], 
    required: true 
  },
  
  scheduledAt: Date, // L·ªãch nh·∫Øc l√∫c 8:00
  takenAt: Date,     // U·ªëng th·ª±c t·∫ø l√∫c 8:15 (Late) ho·∫∑c 8:05 (Taken)
  
  // --- B·∫±ng ch·ª©ng (N·∫øu c·∫ßn g·∫Øt gao) ---
  proofImage: String, // ·∫¢nh ch·ª•p l√∫c u·ªëng
  notes: String       // "B√† k√™u ƒë·∫Øng qu√°"
}, { timestamps: true });

// Index quan tr·ªçng ƒë·ªÉ v·∫Ω bi·ªÉu ƒë·ªì nhanh
LogSchema.index({ userId: 1, takenAt: -1 });</pre>
                                    </div>
                                </div>
                            </div>

                            <div class="pl-6 border-l-2 border-purple-600">
                                <h3 class="text-xl font-bold text-purple-400 mb-4">3. AI Legacy Module (K√Ω ·ª®c & RAG)
                                </h3>
                                <p class="text-sm text-slate-500 mb-4">L∆∞u tr·ªØ Vector Embeddings ƒë·ªÉ Chatbot c√≥ th·ªÉ t√¨m
                                    ki·∫øm ng·ªØ nghƒ©a.</p>

                                <div class="bg-slate-900 rounded-xl overflow-hidden border border-slate-800">
                                    <div
                                        class="bg-slate-950 p-3 border-b border-slate-800 font-mono text-xs text-purple-300 font-bold">
                                        Memory.js (Di S·∫£n S·ªë)
                                    </div>
                                    <pre class="p-4 text-xs text-slate-300 font-mono overflow-x-auto leading-5">
const MemorySchema = new Schema({
  userId: { type: Schema.Types.ObjectId, ref: 'User', index: true },
  
  // --- Source ---
  originalAudioUrl: { type: String, required: true }, // File ghi √¢m g·ªëc (S3)
  duration: Number, // Gi√¢y
  
  // --- Pipeline Status (Async Processing) ---
  // AI x·ª≠ l√Ω t·ªën th·ªùi gian, c·∫ßn status ƒë·ªÉ Frontend hi·ªán loading
  processingStatus: { 
    type: String, 
    enum: ['pending', 'transcribing', 'vectorizing', 'completed', 'failed'],
    default: 'pending'
  },

  // --- Content ---
  transcript: String,   // Text th√¥ t·ª´ Whisper
  refinedContent: String, // Text ƒë√£ chu·ªët vƒÉn phong (ƒë·ªÉ in s√°ch)
  summary: String,      // T√≥m t·∫Øt ng·∫Øn g·ªçn

  // --- AI RAG Core (Quan tr·ªçng nh·∫•t) ---
  embedding: [Number],  // M·∫£ng Vector 1536 chi·ªÅu (OpenAI ada-002)
  topics: [String],     // ['Tu·ªïi th∆°', 'ƒêi h·ªçc', 'Chi·∫øn tranh']
  emotion: { type: String, enum: ['happy', 'sad', 'neutral', 'nostalgic'] },

  // --- Privacy ---
  visibility: { type: String, enum: ['private', 'family', 'public'], default: 'family' },
  
  recordedAt: { type: Date, default: Date.now }
}, { timestamps: true });</pre>
                                </div>
                            </div>

                            <div class="pl-6 border-l-2 border-red-600">
                                <h3 class="text-xl font-bold text-red-400 mb-4">4. System & Notifications</h3>

                                <div class="grid lg:grid-cols-2 gap-8">
                                    <div class="bg-slate-900 rounded-xl overflow-hidden border border-slate-800">
                                        <div
                                            class="bg-slate-950 p-3 border-b border-slate-800 font-mono text-xs text-red-300 font-bold">
                                            Notification.js
                                        </div>
                                        <pre class="p-4 text-xs text-slate-300 font-mono overflow-x-auto leading-5">
const NotificationSchema = new Schema({
  recipientId: { type: Schema.Types.ObjectId, ref: 'User' },
  
  type: { 
    type: String, 
    enum: ['medication', 'sos', 'health', 'system'] 
  },
  priority: { type: String, enum: ['high', 'normal'] },
  
  title: String,
  body: String,
  
  isRead: { type: Boolean, default: false },
  data: Object // Payload ƒë·ªÉ navigate (VD: { medicationId: '123' })
}, { timestamps: true });</pre>
                                    </div>

                                    <div class="bg-slate-900 rounded-xl overflow-hidden border border-slate-800">
                                        <div
                                            class="bg-slate-950 p-3 border-b border-slate-800 font-mono text-xs text-red-300 font-bold">
                                            SOSAlert.js
                                        </div>
                                        <pre class="p-4 text-xs text-slate-300 font-mono overflow-x-auto leading-5">
const SOSSchema = new Schema({
  userId: { type: Schema.Types.ObjectId, ref: 'User' },
  
  location: {
    lat: Number,
    lng: Number,
    address: String
  },
  
  // Ghi √¢m 30s m√¥i tr∆∞·ªùng l√∫c b·∫•m SOS
  audioContextUrl: String, 
  
  status: { 
    type: String, 
    enum: ['triggered', 'resolved', 'false_alarm'], 
    default: 'triggered' 
  },
  
  resolvedBy: { type: Schema.Types.ObjectId, ref: 'User' },
  resolvedAt: Date
}, { timestamps: true });</pre>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </section>
                    <!-- //Cautructhumuc -->
                    <section id="folder-structure" class="max-w-5xl mx-auto mb-20 border-t border-slate-800 pt-12">
                        <h2 class="text-3xl font-bold text-white mb-6">4. C·∫•u tr√∫c th∆∞ m·ª•c (Folder Structure)</h2>

                    </section>

                    <section id="api-list" class="max-w-6xl mx-auto mb-20 pt-12 border-t border-slate-800">

                        <div class="mb-10">
                            <h2 class="text-3xl font-black text-white mb-4 flex items-center gap-3">
                                <span
                                    class="bg-indigo-600 w-8 h-8 rounded-lg flex items-center justify-center text-sm text-white">5.0</span>
                                Danh s√°ch API (Backend Endpoints)
                            </h2>
                            <p class="text-slate-400 text-lg">
                                Base URL: <code
                                    class="bg-slate-800 px-2 py-1 rounded text-green-400">https://api.silverlink.ai/v1</code>
                                <br>Authentication: <code
                                    class="bg-slate-800 px-2 py-1 rounded text-yellow-400">Bearer {JWT_TOKEN}</code>
                            </p>
                        </div>

                        <div class="space-y-12">

                            <div class="bg-slate-900 rounded-xl border border-indigo-500/30 overflow-hidden">
                                <div
                                    class="bg-slate-950 p-4 border-b border-indigo-500/30 flex justify-between items-center">
                                    <h3 class="text-indigo-400 font-bold text-lg">1. AI Services (Vision & Voice)</h3>
                                    <span class="text-xs bg-indigo-900 text-indigo-300 px-2 py-1 rounded">High
                                        Latency</span>
                                </div>
                                <table class="w-full text-left text-sm text-slate-400">
                                    <thead class="bg-slate-800 text-slate-200 font-bold uppercase text-xs">
                                        <tr>
                                            <th class="p-4 w-24">Method</th>
                                            <th class="p-4 w-64">Endpoint</th>
                                            <th class="p-4">Ch·ª©c nƒÉng & Payload</th>
                                        </tr>
                                    </thead>
                                    <tbody class="divide-y divide-slate-800">
                                        <tr>
                                            <td class="p-4"><span
                                                    class="bg-green-600 text-white px-2 py-1 rounded text-xs font-bold">POST</span>
                                            </td>
                                            <td class="p-4 font-mono text-white">/ai/scan-rx</td>
                                            <td class="p-4">
                                                <strong class="block text-white mb-1">Qu√©t ƒê∆°n Thu·ªëc (OCR)</strong>
                                                <div class="text-xs font-mono text-slate-500">
                                                    ‚ûî Request (Multipart): { image: File }<br>
                                                    ü°® Response: { medicines: [{ name: "Panadol", dosage: "1", time:
                                                    ["s√°ng"] }] }
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="p-4"><span
                                                    class="bg-green-600 text-white px-2 py-1 rounded text-xs font-bold">POST</span>
                                            </td>
                                            <td class="p-4 font-mono text-white">/ai/scan-food</td>
                                            <td class="p-4">
                                                <strong class="block text-white mb-1">Qu√©t M√≥n ƒÇn (Nutrition)</strong>
                                                <div class="text-xs font-mono text-slate-500">
                                                    ‚ûî Request (Multipart): { image: File }<br>
                                                    ü°® Response: { calories: 450, warnings: ["M·∫∑n"], advice: "U·ªëng th√™m
                                                    n∆∞·ªõc" }
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="p-4"><span
                                                    class="bg-green-600 text-white px-2 py-1 rounded text-xs font-bold">POST</span>
                                            </td>
                                            <td class="p-4 font-mono text-white">/ai/biographer/upload</td>
                                            <td class="p-4">
                                                <strong class="block text-white mb-1">Upload Ghi √Çm H·ªìi K√Ω</strong>
                                                <div class="text-xs font-mono text-slate-500">
                                                    ‚ûî Request (Multipart): { audio: File, topic: "Tu·ªïi th∆°" }<br>
                                                    ü°® Response: { memoryId: "123", status: "processing" }
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="p-4"><span
                                                    class="bg-green-600 text-white px-2 py-1 rounded text-xs font-bold">POST</span>
                                            </td>
                                            <td class="p-4 font-mono text-white">/ai/chat-legacy</td>
                                            <td class="p-4">
                                                <strong class="block text-white mb-1">Chat v·ªõi K√Ω ·ª®c (RAG)</strong>
                                                <div class="text-xs font-mono text-slate-500">
                                                    ‚ûî Request: { query: "B√† th√≠ch ƒÉn g√¨?", contextId: "user_123" }<br>
                                                    ü°® Response: { answer: "B√† th√≠ch canh cua...", sources:
                                                    ["memory_id_1"] }
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <div class="bg-slate-900 rounded-xl border border-green-500/30 overflow-hidden mt-8">
                                <div
                                    class="bg-slate-950 p-4 border-b border-green-500/30 flex justify-between items-center">
                                    <h3 class="text-green-400 font-bold text-lg">2. Medication & Schedule</h3>
                                    <span class="text-xs bg-green-900 text-green-300 px-2 py-1 rounded">Real-time
                                        Critical</span>
                                </div>
                                <table class="w-full text-left text-sm text-slate-400">
                                    <thead class="bg-slate-800 text-slate-200 font-bold uppercase text-xs">
                                        <tr>
                                            <th class="p-4 w-24">Method</th>
                                            <th class="p-4 w-64">Endpoint</th>
                                            <th class="p-4">Ch·ª©c nƒÉng & Payload</th>
                                        </tr>
                                    </thead>
                                    <tbody class="divide-y divide-slate-800">
                                        <tr>
                                            <td class="p-4"><span
                                                    class="bg-blue-600 text-white px-2 py-1 rounded text-xs font-bold">GET</span>
                                            </td>
                                            <td class="p-4 font-mono text-white">/schedules/today</td>
                                            <td class="p-4">
                                                <strong class="block text-white mb-1">L·∫•y l·ªãch u·ªëng thu·ªëc h√¥m
                                                    nay</strong>
                                                <div class="text-xs font-mono text-slate-500">
                                                    ‚ûî Query: ?userId=123 (D√†nh cho m√°y Kiosk)<br>
                                                    ü°® Response: [ { time: "08:00", medName: "Panadol", status:
                                                    "pending" } ]
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="p-4"><span
                                                    class="bg-green-600 text-white px-2 py-1 rounded text-xs font-bold">POST</span>
                                            </td>
                                            <td class="p-4 font-mono text-white">/medications</td>
                                            <td class="p-4">
                                                <strong class="block text-white mb-1">Th√™m thu·ªëc m·ªõi
                                                    (Inventory)</strong>
                                                <div class="text-xs font-mono text-slate-500">
                                                    ‚ûî Request: { name: "Insulin", totalStock: 20, image: "url" }
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="p-4"><span
                                                    class="bg-green-600 text-white px-2 py-1 rounded text-xs font-bold">POST</span>
                                            </td>
                                            <td class="p-4 font-mono text-white">/schedules</td>
                                            <td class="p-4">
                                                <strong class="block text-white mb-1">T·∫°o l·ªãch nh·∫Øc nh·ªü</strong>
                                                <div class="text-xs font-mono text-slate-500">
                                                    ‚ûî Request: { medId: "123", time: "08:00", recurrence: "daily" }
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="p-4"><span
                                                    class="bg-green-600 text-white px-2 py-1 rounded text-xs font-bold">POST</span>
                                            </td>
                                            <td class="p-4 font-mono text-white">/logs/consume</td>
                                            <td class="p-4">
                                                <strong class="block text-white mb-1">X√°c nh·∫≠n ƒë√£ u·ªëng (N√∫t b·∫•m
                                                    Kiosk)</strong>
                                                <div class="text-xs font-mono text-slate-500">
                                                    ‚ûî Request: { scheduleId: "abc", status: "taken", takenAt:
                                                    "timestamp" }<br>
                                                    ü°® Note: API n√†y s·∫Ω t·ª± ƒë·ªông tr·ª´ kho thu·ªëc (Stock - 1).
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <div class="bg-slate-900 rounded-xl border border-blue-500/30 overflow-hidden mt-8">
                                <div
                                    class="bg-slate-950 p-4 border-b border-blue-500/30 flex justify-between items-center">
                                    <h3 class="text-blue-400 font-bold text-lg">3. Auth & Family Management</h3>
                                </div>
                                <table class="w-full text-left text-sm text-slate-400">
                                    <thead class="bg-slate-800 text-slate-200 font-bold uppercase text-xs">
                                        <tr>
                                            <th class="p-4 w-24">Method</th>
                                            <th class="p-4 w-64">Endpoint</th>
                                            <th class="p-4">Ch·ª©c nƒÉng & Payload</th>
                                        </tr>
                                    </thead>
                                    <tbody class="divide-y divide-slate-800">
                                        <tr>
                                            <td class="p-4"><span
                                                    class="bg-green-600 text-white px-2 py-1 rounded text-xs font-bold">POST</span>
                                            </td>
                                            <td class="p-4 font-mono text-white">/auth/login-manager</td>
                                            <td class="p-4">
                                                <strong class="block text-white mb-1">ƒêƒÉng nh·∫≠p Ng∆∞·ªùi th√¢n</strong>
                                                <div class="text-xs font-mono text-slate-500">‚ûî Request: { email,
                                                    password }</div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="p-4"><span
                                                    class="bg-green-600 text-white px-2 py-1 rounded text-xs font-bold">POST</span>
                                            </td>
                                            <td class="p-4 font-mono text-white">/auth/login-qr</td>
                                            <td class="p-4">
                                                <strong class="block text-white mb-1">ƒêƒÉng nh·∫≠p Kiosk (QR)</strong>
                                                <div class="text-xs font-mono text-slate-500">‚ûî Request: { qrToken:
                                                    "xyz..." }</div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="p-4"><span
                                                    class="bg-blue-600 text-white px-2 py-1 rounded text-xs font-bold">GET</span>
                                            </td>
                                            <td class="p-4 font-mono text-white">/family/dashboard-stats</td>
                                            <td class="p-4">
                                                <strong class="block text-white mb-1">L·∫•y d·ªØ li·ªáu bi·ªÉu ƒë·ªì
                                                    Dashboard</strong>
                                                <div class="text-xs font-mono text-slate-500">ü°® Response: {
                                                    adherenceRate: 85, lastActive: "5 mins ago" }</div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <div class="bg-slate-900 rounded-xl border border-red-500/30 overflow-hidden mt-8">
                                <div
                                    class="bg-slate-950 p-4 border-b border-red-500/30 flex justify-between items-center">
                                    <h3 class="text-red-400 font-bold text-lg">4. System & SOS Alerts</h3>
                                </div>
                                <table class="w-full text-left text-sm text-slate-400">
                                    <thead class="bg-slate-800 text-slate-200 font-bold uppercase text-xs">
                                        <tr>
                                            <th class="p-4 w-24">Method</th>
                                            <th class="p-4 w-64">Endpoint</th>
                                            <th class="p-4">Ch·ª©c nƒÉng & Payload</th>
                                        </tr>
                                    </thead>
                                    <tbody class="divide-y divide-slate-800">
                                        <tr>
                                            <td class="p-4"><span
                                                    class="bg-red-600 text-white px-2 py-1 rounded text-xs font-bold">POST</span>
                                            </td>
                                            <td class="p-4 font-mono text-white">/sos/trigger</td>
                                            <td class="p-4">
                                                <strong class="block text-white mb-1">K√≠ch ho·∫°t B√°o ƒë·ªông ƒë·ªè</strong>
                                                <div class="text-xs font-mono text-slate-500">
                                                    ‚ûî Request: { location: { lat, lng }, audioContext: "url" }<br>
                                                    ü°® Note: K√≠ch ho·∫°t Socket.io b·∫Øn noti t·ªõi to√†n b·ªô Family Member.
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="p-4"><span
                                                    class="bg-orange-500 text-white px-2 py-1 rounded text-xs font-bold">PUT</span>
                                            </td>
                                            <td class="p-4 font-mono text-white">/sos/:id/resolve</td>
                                            <td class="p-4">
                                                <strong class="block text-white mb-1">ƒê√°nh d·∫•u ƒë√£ x·ª≠ l√Ω SOS</strong>
                                                <div class="text-xs font-mono text-slate-500">
                                                    ‚ûî Request: { note: "ƒê√£ g·ªçi ƒëi·ªán, b√† ·ªïn." }
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                        </div>
                        <section id="tech-stack" class="max-w-6xl mx-auto mb-20 pt-12 border-t border-slate-800">

                            <div class="mb-10">
                                <h2 class="text-3xl font-black text-white mb-4 flex items-center gap-3">
                                    <span
                                        class="bg-cyan-600 w-8 h-8 rounded-lg flex items-center justify-center text-sm text-white">6.0</span>
                                    C√¥ng ngh·ªá & Ki·∫øn tr√∫c (Technology Stack)
                                </h2>
                                <p class="text-slate-400 text-lg">
                                    H·ªá th·ªëng ƒë∆∞·ª£c x√¢y d·ª±ng tr√™n n·ªÅn t·∫£ng <strong>MERN Stack (MongoDB - Express - React -
                                        Node)</strong> k·∫øt h·ª£p v·ªõi c√°c <strong>AI Service</strong> ti√™n ti·∫øn nh·∫•t hi·ªán
                                    nay.
                                </p>
                            </div>

                            <div class="grid md:grid-cols-2 gap-8">

                                <div class="bg-slate-900 rounded-2xl border border-slate-800 p-6">
                                    <div class="flex items-center gap-3 mb-4 border-b border-slate-800 pb-3">
                                        <span class="text-3xl">‚öõÔ∏è</span>
                                        <div>
                                            <h3 class="text-blue-400 font-bold text-lg">6.1. Frontend (Client Side)</h3>
                                            <p class="text-xs text-slate-500">React Ecosystem</p>
                                        </div>
                                    </div>
                                    <ul class="space-y-4">
                                        <li class="flex gap-3">
                                            <div class="w-1 bg-blue-500 rounded"></div>
                                            <div class="flex-1">
                                                <strong class="text-white text-sm block">Core Framework</strong>
                                                <div class="text-xs text-slate-400 font-mono mt-1">
                                                    ReactJS (Vite) + TypeScript
                                                </div>
                                                <p class="text-[10px] text-slate-500 mt-1">L√Ω do: T·ªëc ƒë·ªô build nhanh
                                                    (Vite), Type safety (TS) ƒë·ªÉ tr√°nh l·ªói runtime.</p>
                                            </div>
                                        </li>
                                        <li class="flex gap-3">
                                            <div class="w-1 bg-cyan-500 rounded"></div>
                                            <div class="flex-1">
                                                <strong class="text-white text-sm block">Styling (Giao di·ªán)</strong>
                                                <div class="text-xs text-slate-400 font-mono mt-1">
                                                    Tailwind CSS v4 + Shadcn/UI
                                                </div>
                                                <p class="text-[10px] text-slate-500 mt-1">L√Ω do: Ph√°t tri·ªÉn UI c·ª±c
                                                    nhanh, Shadcn cung c·∫•p c√°c component ƒë·∫πp (Dialog, Card) cho trang
                                                    Manager.</p>
                                            </div>
                                        </li>
                                        <li class="flex gap-3">
                                            <div class="w-1 bg-yellow-500 rounded"></div>
                                            <div class="flex-1">
                                                <strong class="text-white text-sm block">State Management</strong>
                                                <div class="text-xs text-slate-400 font-mono mt-1">
                                                    Zustand
                                                </div>
                                                <p class="text-[10px] text-slate-500 mt-1">L√Ω do: Nh·∫π h∆°n Redux r·∫•t
                                                    nhi·ªÅu (1KB), ph√π h·ª£p ƒë·ªÉ qu·∫£n l√Ω tr·∫°ng th√°i ƒë∆°n gi·∫£n nh∆∞ User
                                                    Session, Cart.</p>
                                            </div>
                                        </li>
                                        <li class="flex gap-3">
                                            <div class="w-1 bg-purple-500 rounded"></div>
                                            <div class="flex-1">
                                                <strong class="text-white text-sm block">PWA (Progressive Web
                                                    App)</strong>
                                                <div class="text-xs text-slate-400 font-mono mt-1">
                                                    vite-plugin-pwa
                                                </div>
                                                <p class="text-[10px] text-slate-500 mt-1">L√Ω do: B·∫Øt bu·ªôc ƒë·ªÉ c√†i ƒë·∫∑t
                                                    Web l√™n m√°y t√≠nh b·∫£ng c·ªßa ng∆∞·ªùi gi√† nh∆∞ m·ªôt App (Full screen,
                                                    Offline mode).</p>
                                            </div>
                                        </li>
                                    </ul>
                                </div>

                                <div class="bg-slate-900 rounded-2xl border border-slate-800 p-6">
                                    <div class="flex items-center gap-3 mb-4 border-b border-slate-800 pb-3">
                                        <span class="text-3xl">üü¢</span>
                                        <div>
                                            <h3 class="text-green-400 font-bold text-lg">6.2. Backend (Server Side)</h3>
                                            <p class="text-xs text-slate-500">Node.js Ecosystem</p>
                                        </div>
                                    </div>
                                    <ul class="space-y-4">
                                        <li class="flex gap-3">
                                            <div class="w-1 bg-green-600 rounded"></div>
                                            <div class="flex-1">
                                                <strong class="text-white text-sm block">Runtime & Framework</strong>
                                                <div class="text-xs text-slate-400 font-mono mt-1">
                                                    Node.js + Express.js
                                                </div>
                                                <p class="text-[10px] text-slate-500 mt-1">L√Ω do: Non-blocking I/O, x·ª≠
                                                    l√Ω h√†ng ngh√¨n request ƒë·ªìng th·ªùi t·ª´ c√°c thi·∫øt b·ªã IoT/Kiosk.</p>
                                            </div>
                                        </li>
                                        <li class="flex gap-3">
                                            <div class="w-1 bg-red-500 rounded"></div>
                                            <div class="flex-1">
                                                <strong class="text-white text-sm block">Real-time
                                                    Communication</strong>
                                                <div class="text-xs text-slate-400 font-mono mt-1">
                                                    Socket.io
                                                </div>
                                                <p class="text-[10px] text-slate-500 mt-1">L√Ω do: C·∫ßn thi·∫øt cho t√≠nh
                                                    nƒÉng SOS v√† ƒë·ªìng b·ªô tr·∫°ng th√°i u·ªëng thu·ªëc t·ª©c th√¨ (Client <->
                                                        Server).</p>
                                            </div>
                                        </li>
                                        <li class="flex gap-3">
                                            <div class="w-1 bg-orange-500 rounded"></div>
                                            <div class="flex-1">
                                                <strong class="text-white text-sm block">Task Scheduling</strong>
                                                <div class="text-xs text-slate-400 font-mono mt-1">
                                                    node-cron
                                                </div>
                                                <p class="text-[10px] text-slate-500 mt-1">L√Ω do: Qu√©t database m·ªói ph√∫t
                                                    ƒë·ªÉ t√¨m l·ªãch u·ªëng thu·ªëc v√† g·ª≠i th√¥ng b√°o.</p>
                                            </div>
                                        </li>
                                        <li class="flex gap-3">
                                            <div class="w-1 bg-blue-500 rounded"></div>
                                            <div class="flex-1">
                                                <strong class="text-white text-sm block">Security</strong>
                                                <div class="text-xs text-slate-400 font-mono mt-1">
                                                    JWT, Bcrypt, Helmet, Cors
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>

                                <div class="bg-slate-900 rounded-2xl border border-indigo-500/30 p-6 md:col-span-2">
                                    <div class="flex items-center gap-3 mb-4 border-b border-indigo-500/30 pb-3">
                                        <span class="text-3xl">üß†</span>
                                        <div>
                                            <h3 class="text-indigo-400 font-bold text-lg">6.3. AI Core (Artificial
                                                Intelligence)</h3>
                                            <p class="text-xs text-slate-500">T√≠ch h·ª£p c√°c Model ti√™n ti·∫øn nh·∫•t
                                                (API-based)</p>
                                        </div>
                                    </div>
                                    <div class="grid md:grid-cols-3 gap-6">
                                        <div class="bg-slate-950 p-4 rounded-xl border border-slate-800">
                                            <strong class="text-white text-sm block mb-1">1. Computer Vision (Th·ªã
                                                gi√°c)</strong>
                                            <div class="text-xs text-green-400 font-mono mb-2">Model: Gemini 1.5 Flash
                                            </div>
                                            <p class="text-[11px] text-slate-400">
                                                S·ª≠ d·ª•ng ƒë·ªÉ OCR ƒë∆°n thu·ªëc v√† nh·∫≠n di·ªán m√≥n ƒÉn.
                                                <br><strong>L√Ω do:</strong> Gemini Flash r·∫ª h∆°n GPT-4o g·∫•p 10 l·∫ßn nh∆∞ng
                                                t·ªëc ƒë·ªô x·ª≠ l√Ω ·∫£nh c·ª±c nhanh (< 2s). </p>
                                        </div>
                                        <div class="bg-slate-950 p-4 rounded-xl border border-slate-800">
                                            <strong class="text-white text-sm block mb-1">2. Speech-to-Text (Gi·ªçng
                                                n√≥i)</strong>
                                            <div class="text-xs text-green-400 font-mono mb-2">Model: OpenAI Whisper-1
                                            </div>
                                            <p class="text-[11px] text-slate-400">
                                                Chuy·ªÉn ƒë·ªïi file ghi √¢m h·ªìi k√Ω sang vƒÉn b·∫£n.
                                                <br><strong>L√Ω do:</strong> H·ªó tr·ª£ ti·∫øng Vi·ªát t·ªët nh·∫•t hi·ªán nay, nh·∫≠n
                                                di·ªán ƒë∆∞·ª£c c·∫£ d·∫•u c√¢u v√† ng·ªØ ƒëi·ªáu v√πng mi·ªÅn.
                                            </p>
                                        </div>
                                        <div class="bg-slate-950 p-4 rounded-xl border border-slate-800">
                                            <strong class="text-white text-sm block mb-1">3. LLM & Chat (Ng√¥n
                                                ng·ªØ)</strong>
                                            <div class="text-xs text-green-400 font-mono mb-2">Model: Gemini 1.5 Pro +
                                                RAG</div>
                                            <p class="text-[11px] text-slate-400">
                                                Bi√™n t·∫≠p h·ªìi k√Ω v√† Chatbot tr·∫£ l·ªùi c√¢u h·ªèi.
                                                <br><strong>L√Ω do:</strong> Context window l·ªõn (1M tokens) gi√∫p AI nh·ªõ
                                                ƒë∆∞·ª£c nhi·ªÅu k√Ω ·ª©c c·ªßa ng∆∞·ªùi gi√† h∆°n.
                                            </p>
                                        </div>
                                    </div>
                                </div>

                                <div class="bg-slate-900 rounded-2xl border border-slate-800 p-6">
                                    <div class="flex items-center gap-3 mb-4 border-b border-slate-800 pb-3">
                                        <span class="text-3xl">üíæ</span>
                                        <div>
                                            <h3 class="text-yellow-400 font-bold text-lg">6.4. Database & Storage</h3>
                                        </div>
                                    </div>
                                    <ul class="space-y-4">
                                        <li class="flex gap-3">
                                            <div class="w-1 bg-green-500 rounded"></div>
                                            <div class="flex-1">
                                                <strong class="text-white text-sm block">Primary DB</strong>
                                                <div class="text-xs text-slate-400 font-mono mt-1">MongoDB Atlas</div>
                                                <p class="text-[10px] text-slate-500 mt-1">L∆∞u User, L·ªãch u·ªëng thu·ªëc.
                                                    D·∫°ng NoSQL ph√π h·ª£p v·ªõi JSON tr·∫£ v·ªÅ t·ª´ AI.</p>
                                            </div>
                                        </li>
                                        <li class="flex gap-3">
                                            <div class="w-1 bg-purple-500 rounded"></div>
                                            <div class="flex-1">
                                                <strong class="text-white text-sm block">Vector DB (Cho AI)</strong>
                                                <div class="text-xs text-slate-400 font-mono mt-1">MongoDB Atlas Vector
                                                    Search</div>
                                                <p class="text-[10px] text-slate-500 mt-1">L∆∞u c√°c vector embeddings c·ªßa
                                                    k√Ω ·ª©c ƒë·ªÉ th·ª±c hi·ªán t√¨m ki·∫øm ng·ªØ nghƒ©a (Semantic Search).</p>
                                            </div>
                                        </li>
                                        <li class="flex gap-3">
                                            <div class="w-1 bg-orange-500 rounded"></div>
                                            <div class="flex-1">
                                                <strong class="text-white text-sm block">File Storage</strong>
                                                <div class="text-xs text-slate-400 font-mono mt-1">AWS S3 / Cloudinary
                                                </div>
                                                <p class="text-[10px] text-slate-500 mt-1">L∆∞u tr·ªØ file ghi √¢m (.webm)
                                                    v√† ·∫£nh ch·ª•p (.jpg) l√¢u d√†i.</p>
                                            </div>
                                        </li>
                                    </ul>
                                </div>

                                <div class="bg-slate-900 rounded-2xl border border-slate-800 p-6">
                                    <div class="flex items-center gap-3 mb-4 border-b border-slate-800 pb-3">
                                        <span class="text-3xl">üöÄ</span>
                                        <div>
                                            <h3 class="text-red-400 font-bold text-lg">6.5. DevOps & Tools</h3>
                                        </div>
                                    </div>
                                    <div class="grid grid-cols-2 gap-4">
                                        <div class="bg-slate-950 p-3 rounded border border-slate-800">
                                            <div class="text-[10px] text-slate-500 uppercase font-bold">Deploy Frontend
                                            </div>
                                            <div class="text-white font-bold">Vercel</div>
                                        </div>
                                        <div class="bg-slate-950 p-3 rounded border border-slate-800">
                                            <div class="text-[10px] text-slate-500 uppercase font-bold">Deploy Backend
                                            </div>
                                            <div class="text-white font-bold">Render / Railway</div>
                                        </div>
                                        <div class="bg-slate-950 p-3 rounded border border-slate-800">
                                            <div class="text-[10px] text-slate-500 uppercase font-bold">CI/CD</div>
                                            <div class="text-white font-bold">GitHub Actions</div>
                                        </div>
                                        <div class="bg-slate-950 p-3 rounded border border-slate-800">
                                            <div class="text-[10px] text-slate-500 uppercase font-bold">Testing</div>
                                            <div class="text-white font-bold">Postman</div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </section>
                    </section>

    </main>
<script>
        document.addEventListener("DOMContentLoaded", () => {
            const btn = document.getElementById('mobile-menu-btn');
            const closeBtn = document.getElementById('close-menu-btn');
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('mobile-overlay');
            const links = document.querySelectorAll('.sidebar-link, nav a'); // Ch·ªçn t·∫•t c·∫£ link trong nav

            function openMenu() {
                sidebar.classList.remove('-translate-x-full');
                overlay.classList.remove('hidden');
                setTimeout(() => overlay.classList.remove('opacity-0'), 10);
                
                // QUAN TR·ªåNG: ·∫®n n√∫t Hamburger ƒëi ƒë·ªÉ kh√¥ng b·ªã ƒë√® l√™n logo
                btn.classList.add('hidden');
            }

            function closeMenu() {
                sidebar.classList.add('-translate-x-full');
                overlay.classList.add('opacity-0');
                setTimeout(() => overlay.classList.add('hidden'), 300);
                
                // Hi·ªán l·∫°i n√∫t Hamburger
                btn.classList.remove('hidden');
            }

            // Events
            btn.addEventListener('click', openMenu);
            closeBtn.addEventListener('click', closeMenu);
            overlay.addEventListener('click', closeMenu);

            // B·∫•m v√†o link b·∫•t k·ª≥ trong menu th√¨ t·ª± ƒë√≥ng menu (tr·∫£i nghi·ªám t·ªët h∆°n)
            links.forEach(link => {
                link.addEventListener('click', () => {
                    if (window.innerWidth < 768) { 
                        closeMenu();
                    }
                });
            });

            // Intersection Observer (Gi·ªØ nguy√™n ƒë·ªÉ highlight menu)
            const observerOptions = { root: null, rootMargin: '-20% 0px -70% 0px', threshold: 0 };
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const id = entry.target.getAttribute('id');
                        // Reset style c≈©
                        document.querySelectorAll('.sidebar-link').forEach(link => {
                            link.classList.remove('bg-slate-800', 'text-white', 'border-l-4', 'border-blue-500');
                            link.classList.add('text-slate-300');
                        });
                        
                        // Active style m·ªõi
                        const activeLink = document.querySelector(`a[href="#${id}"]`);
                        if (activeLink && activeLink.classList.contains('sidebar-link')) {
                            activeLink.classList.remove('text-slate-300');
                            activeLink.classList.add('bg-slate-800', 'text-white', 'border-l-4', 'border-blue-500');
                        }
                    }
                });
            }, observerOptions);

            document.querySelectorAll('section[id]').forEach((section) => {
                observer.observe(section);
            });
        });
    </script>
</body>

</html>
